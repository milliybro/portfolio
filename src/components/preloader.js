import * as React from "react";
import PropTypes from "prop-types";
import LinearProgress from "@mui/material/LinearProgress";
import Typography from "@mui/material/Typography";
import Box from "@mui/material/Box";
import { gsap } from "gsap";
import "./preloader.scss";
import logo from "../assets/images/preload.svg";

function LinearProgressWithLabel(props) {
  const el = React.useRef();
  const tl = React.useRef();
  const q = gsap.utils.selector(el);

  React.useEffect(() => {
    tl.current = gsap
      .timeline()
      .to(q(".square"), {
        opacity: 0.7,
      })
      .to(q(".square"), {
        duration: 1.5,
        ease: "powerInOut",
        opacity: 1,
        repeat: -1,
        yoyo: true,
      });
  }, []);
  return (
    <div className="preload">
      <div className="loader">
        <LinearProgress variant="determinate" {...props} />
      </div>
      <div className="progress">
        <Typography variant="body2" color="">{`${Math.round(
          props.value
        )}%`}</Typography>
      </div>
    </div>
  );
}

LinearProgressWithLabel.propTypes = {
  value: PropTypes.number.isRequired,
};

export default function LinearWithValueLabel() {
  const [progress, setProgress] = React.useState(10);

  React.useEffect(() => {
    const timer = setInterval(() => {
      setProgress((prevProgress) =>
        prevProgress >= 100 ? 10 : prevProgress + 10
      );
    }, 500);
    return () => {
      clearInterval(timer);
    };
  }, []);

  return (
    <Box>
      <div className="anime">
        <div className="load">
          <svg
            height="100%"
            fill="none"
            xmlnsXlink="http://www.w3.org/1999/xlink"
            xmlns="http://www.w3.org/2000/svg"
            xmlSpace="preserve"
            width="100%"
            version="1"
            viewBox="0 0 1000 200"
            id="lo"
          >
            <g id="roar">
              <path
                id="roar-one"
                stroke="#fff"
                stroke-width="5"
                d="M 30.871 26.0735 L 69.312 62.793 L 94.961 32.779 L 95.598 148.5 L 98.098 148.5 L 112.355 148.5 L 120.609 148.47 L 121.155 143.013 L 118.972 7.131 L 118.972 3.311 L 112.355 3.2656 L 98.098 3.2656 L 95.598 3.2656 L 95.598 5.7656 L 69 39 L 34.054 3.8296 L 33.364 3.2656 L 32.473 3.2656 L 14.113 3.2656 L 11.613 3.2656 L 11.613 5.7656 L 11.613 146 L 11.613 148.5 L 14.113 148.5 L 35.598 148.5 L 38.098 148.5 L 38.098 146 L 38.098 48.4414 C 38.098 40.7172 35.734 34.2637 30.871 29.3204 L 30.871 26.0735 Z"
                fill="s"
                stroke-linecap="butt"
                opacity="1"
                stroke-linejoin="miter"
              />
              <path
                id="roar-two"
                stroke="#fff"
                stroke-width="5"
                d="M 174.652 5.7656 L 174.652 3.2656 L 172.152 3.2656 L 157.895 3.2656 L 155.395 3.2656 L 155.395 5.7656 L 155.395 146 L 155.395 148.5 L 157.895 148.5 L 179.379 148.5 L 181.879 148.5 L 181.879 146 L 181.879 48.2461 C 181.879 40.5219 179.516 34.0684 174.652 29.1251 L 174.652 5.7656 Z"
                fill="none"
                stroke-linecap="butt"
                opacity="1"
                stroke-linejoin="miter"
              />
              <path
                id="roar-three"
                stroke="#fff"
                stroke-width="5"
                d="M 244.085 4.924 C 236.078 4.696 228.527 4.696 215.715 4.696 L 215.113 119.926 C 215.113 127.752 217.916 134.533 223.451 140.139 L 223.463 140.151 L 223.474 140.162 C 229.08 145.697 235.862 148.5 243.688 148.5 L 315.855 148.5 L 318.355 148.5 L 318.355 146 L 318.355 131.742 L 318.355 129.242 L 315.855 129.242 L 243.688 129.242 C 243.51 129.242 243.334 129.237 243.16 129.228 L 243.16 66.2539 L 243.16 48.2461 Z"
                fill="none"
                stroke-linecap="butt"
                opacity="1"
                stroke-linejoin="miter"
              />
              <path
                id="roar-four"
                stroke="#fff"
                stroke-width="5"
                d="M 374.085 4.924 C 366.078 4.696 358.527 4.696 345.715 4.696 L 345.113 119.926 C 345.113 127.752 347.916 134.533 353.451 140.139 L 353.463 140.151 L 353.474 140.162 C 359.08 145.697 365.862 148.5 373.688 148.5 L 445.855 148.5 L 448.355 148.5 L 448.355 146 L 448.355 131.742 L 448.355 129.242 L 445.855 129.242 L 373.688 129.242 C 373.51 129.242 373.334 129.237 373.16 129.228 L 373.16 66.2539 L 373.16 48.2461 Z"
                fill="none"
                stroke-linecap="butt"
                opacity="1"
                stroke-linejoin="miter"
              />
              <path
                id="roar-five"
                stroke="#fff"
                stroke-width="5"
                d="M 486.652 5.7656 L 486.652 3.2656 L 484.152 3.2656 L 469.895 3.2656 L 467.395 3.2656 L 467.395 5.7656 L 467.395 146 L 467.395 148.5 L 469.895 148.5 L 491.379 148.5 L 493.879 148.5 L 493.879 146 L 493.879 48.2461 C 493.879 40.5219 491.516 34.0684 486.652 29.1251 L 486.652 5.7656 Z"
                fill="none"
                stroke-linecap="butt"
                opacity="1"
                stroke-linejoin="miter"
              />
              <path
                id="roar-six"
                stroke="#fff"
                stroke-width="5"
                d="M 605.098 3.2656 L 602.598 3.2656 L 602.598 5.7656 L 602.598 48.1006 L 570.233 65.0533 L 545.098 51.9081 L 545.098 48.2461 C 545.098 40.5219 542.734 34.0684 537.871 29.1251 L 537.871 5.7656 L 537.871 3.2656 L 535.371 3.2656 L 521.113 3.2656 L 518.613 3.2656 L 518.613 5.7656 L 518.613 58.1094 L 518.613 59.6026 L 519.928 60.3106 L 523.737 62.3613 L 523.749 62.3679 L 523.761 62.3743 L 560.605 81.6917 L 560.605 146 L 560.605 148.5 L 563.105 148.5 L 584.59 148.5 L 587.09 148.5 L 587.09 146 L 587.09 105.277 C 587.09 97.5047 584.734 91.0415 579.863 86.1469 L 579.863 81.69 L 620.519 60.3223 L 621.855 59.6197 L 621.855 58.1094 L 621.855 5.7656 L 621.855 3.2656 L 619.355 3.2656 L 605.098 3.2656 Z"
                fill="none"
                stroke-linecap="butt"
                opacity="1"
                stroke-linejoin="miter"
              />
              <path
                id="roar-seven"
                stroke="#fff"
                stroke-width="5"
                d="M 721.588 147.068 L 722.798 147.673 C 743.569 147.471 745.788 133.355 747.603 122.868 L 747.805 118.23 L 747.459 31.8592 C 747.459 24.0276 744.619 17.273 739.013 11.7322 C 733.472 6.1256 726.717 3.285 718.886 3.285 L 672.792 3.285 C 664.956 3.285 658.171 6.1283 652.567 11.7321 C 647.022 17.2776 644.218 24.0327 644.218 31.8592 L 644.218 146.019 L 644.218 148.519 L 646.718 148.519 L 668.202 148.519 L 670.702 148.519 L 670.702 146.019 L 670.702 85.5311 L 728.202 85.5311 L 727.638 118.633 C 727.84 127.506 723.2687 131.8757 716.748 131.741 L 670.768 132.75 L 670.768 148.48 L 720.781 147.673 Z M 725.394 25.3012 L 725.419 25.3264 L 725.444 25.351 C 727.306 27.1611 728.202 29.2825 728.202 31.8592 L 728.202 66.2733 L 670.702 66.2733 L 670.702 48.2655 C 670.702 40.7202 668.439 34.3822 663.787 29.4742 C 664.214 27.846 665.007 26.4806 666.161 25.3262 C 668.046 23.4417 670.213 22.5428 672.792 22.5428 L 718.886 22.5428 C 721.462 22.5428 723.584 23.4393 725.394 25.3012 Z"
                fill="none"
                stroke-linecap="butt"
                opacity="1"
                stroke-linejoin="miter"
              />
              <path
                id="roar-eight"
                stroke="#fff"
                stroke-width="5"
                d="M 819.302 85.454 L 857.806 84.937 C 869.107 81.667 871.926 75.223 872.732 62.537 L 872.459 31.8592 C 872.459 24.0276 869.619 17.273 864.013 11.7322 C 858.472 6.1256 851.717 3.285 843.886 3.285 L 797.792 3.285 C 789.956 3.285 783.171 6.1283 777.567 11.7321 C 772.022 17.2776 769.218 24.0327 769.218 31.8592 L 769.218 146.019 L 769.218 148.519 L 771.718 148.519 L 793.202 148.519 L 795.702 148.519 L 795.702 146.019 L 795.011 93.723 C 808.448 92.689 851.345 106.385 847.986 150.833 L 861.682 151.091 L 872.225 151.446 C 865.671 108.849 861.94 93.981 819.798 85.366 Z M 850.394 25.3012 L 850.419 25.3264 L 850.444 25.351 C 852.306 27.1611 853.202 29.2825 853.202 31.8592 L 853.202 66.2733 L 795.702 66.2733 L 795.702 48.2655 C 795.702 40.7202 793.439 34.3822 788.787 29.4742 C 789.214 27.846 790.007 26.4806 791.161 25.3262 C 793.046 23.4417 795.213 22.5428 797.792 22.5428 L 843.886 22.5428 C 846.462 22.5428 848.584 23.4393 850.394 25.3012 Z"
                fill="none"
                stroke-linecap="butt"
                opacity="1"
                stroke-linejoin="miter"
              />
              <path
                id="roar-nine"
                stroke="#fff"
                stroke-width="5"
                d="M 901.4515 140.139 L 901.4627 140.151 L 901.474 140.162 C 907.0803 145.697 913.8617 148.5 921.6875 148.5 L 967.7812 148.5 C 975.6078 148.5 982.3629 145.696 987.9084 140.151 C 993.512 134.547 996.355 127.762 996.355 119.926 L 996.355 31.8398 C 996.355 24.0082 993.515 17.2536 987.9086 11.7128 C 982.3677 6.1062 975.613 3.2656 967.7812 3.2656 L 921.6875 3.2656 C 913.8514 3.2656 907.0665 6.1089 901.4627 11.7127 C 895.9172 17.2582 893.1133 24.0133 893.1133 31.8398 L 893.1133 119.926 C 893.1133 127.752 895.9162 134.533 901.4515 140.139 Z M 974.2895 25.2818 L 974.3141 25.307 L 974.3393 25.3316 C 976.2012 27.1417 977.0977 29.2631 977.0977 31.8398 L 977.0977 119.926 C 977.0977 122.505 976.1988 124.672 974.3143 126.556 C 972.5098 128.361 970.381 129.242 967.7812 129.242 L 921.6875 129.242 C 920.9575 129.242 920.2622 129.17 919.5977 129.028 L 919.5977 48.2461 C 919.5977 40.7008 917.335 34.3628 912.6821 29.4548 C 913.1096 27.8266 913.9024 26.4612 915.0568 25.3068 C 916.9413 23.4223 919.1088 22.5234 921.6875 22.5234 L 967.7812 22.5234 C 970.358 22.5234 972.4794 23.4199 974.2895 25.2818 Z"
                fill="none"
                stroke-linecap="butt"
                opacity="1"
                stroke-linejoin="miter"
              />
            </g>
            <text
              id="roar-text"
              x="85%"
              y="90%"
              dominant-baseline="middle"
              text-anchor="middle"
              font-size="48"
              fill="#fff"
              font-family="Arial, sans-serif"
            >
              Xush kelibsiz
            </text>
          </svg>
        </div>
        {/* <LinearProgressWithLabel value={progress} /> */}
      </div>
    </Box>
  );
}
